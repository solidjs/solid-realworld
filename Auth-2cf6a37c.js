import{c as e,u as t,a as s,N as r,i,d as n,t as o}from"./index.js";import{L as l}from"./ListErrors-084f6649.js";const a=o('<div class="auth-page"><div class="container page"><div class="row"><div class="col-md-6 offset-md-3 col-xs-12"><h1 class="text-xs-center"></h1><p class="text-xs-center"></p><form><fieldset class="form-group"><input class="form-control form-control-lg" type="text" placeholder="Email"></fieldset><fieldset class="form-group"><input class="form-control form-control-lg" type="password" placeholder="Password"></fieldset><button class="btn btn-lg btn-primary pull-xs-right" type="submit"></button></form></div></div></div></div>'),d=o('<fieldset class="form-group"><input class="form-control form-control-lg" type="text" placeholder="Username"></fieldset>');export default()=>{const[o,c]=e({username:"",inProgress:!1}),[,{register:u,login:f}]=t(),g=location.hash.includes("login"),v=g?"Sign in":"Sign up",m=s(r,g?{route:"register",children:"Need an account?"}:{route:"login",children:"Have an account?"}),p=e=>{e.preventDefault(),c({inProgress:!0});(g?f(o.email,o.password):u(o.username,o.email,o.password)).then((()=>location.hash="/")).catch((e=>c({errors:e}))).finally((()=>c({inProgress:!1})))};return(()=>{const e=a.cloneNode(!0),t=e.firstChild.firstChild.firstChild,r=t.firstChild,u=r.nextSibling,f=u.nextSibling,h=f.firstChild,x=h.firstChild,b=h.nextSibling,C=b.firstChild,$=b.nextSibling;return r.textContent=v,i(u,m),i(t,s(l,{get errors(){return o.errors}}),f),f.addEventListener("submit",p),i(f,!g&&(()=>{const e=d.cloneNode(!0),t=e.firstChild;return t.addEventListener("change",(e=>c({username:e.target.value}))),n((()=>t.value=o.username)),e})(),h),x.addEventListener("change",(e=>c({email:e.target.value}))),C.addEventListener("change",(e=>c({password:e.target.value}))),$.textContent=v,n((e=>{const t=o.email,s=o.password,r=o.inProgress;return t!==e._v$&&(x.value=e._v$=t),s!==e._v$2&&(C.value=e._v$2=s),r!==e._v$3&&($.disabled=e._v$3=r),e}),{_v$:void 0,_v$2:void 0,_v$3:void 0}),e})()};
